-- MySQL Script generated by MySQL Workbench
-- Thu Oct 12 23:46:56 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema pi4semestre
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `pi4semestre` ;

-- -----------------------------------------------------
-- Schema pi4semestre
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `pi4semestre` DEFAULT CHARACTER SET utf8  
DEFAULT COLLATE utf8_general_ci;
USE `pi4semestre` ;

-- -----------------------------------------------------
-- Table `pi4semestre`.`colaboradores`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pi4semestre`.`colaboradores` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(100) NOT NULL,
  `email` VARCHAR(100) NOT NULL,
  `nome` VARCHAR(100) NOT NULL,
  `sobrenome` VARCHAR(255) NOT NULL,
  `senha` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `username_UNIQUE` (`username` ASC),
  UNIQUE INDEX `email_UNIQUE` (`email` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pi4semestre`.`categorias`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pi4semestre`.`categorias` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `nome_UNIQUE` (`nome` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pi4semestre`.`estabelecimentos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pi4semestre`.`estabelecimentos` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(45) NOT NULL,
  `logradouro` VARCHAR(45) NOT NULL,
  `numero` VARCHAR(45) NOT NULL,
  `bairro` VARCHAR(45) NOT NULL,
  `cidade` VARCHAR(45) NOT NULL,
  `uf` VARCHAR(2) NOT NULL,
  `categoria_id` INT NOT NULL,
  `cep` VARCHAR(8) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `nome_UNIQUE` (`nome` ASC),
  INDEX `fk_estabelecimentos_categorias_idx` (`categoria_id` ASC),
  CONSTRAINT `fk_estabelecimentos_categorias`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `pi4semestre`.`categorias` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pi4semestre`.`itens`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pi4semestre`.`itens` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pi4semestre`.`avaliacoes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pi4semestre`.`avaliacoes` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `estabelecimento_id` INT NOT NULL,
  `colaborador_id` INT NOT NULL,
  `item_id` INT NOT NULL,
  `dt_avaliacao` DATETIME NULL,
  `nota` INT NOT NULL,
  `comentario` TEXT(500) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_avaliacoes_estabelecimentos1_idx` (`estabelecimento_id` ASC),
  INDEX `fk_avaliacoes_colaboradores1_idx` (`colaborador_id` ASC),
  INDEX `fk_avaliacoes_itens1_idx` (`item_id` ASC),
  CONSTRAINT `fk_avaliacoes_estabelecimentos1`
    FOREIGN KEY (`estabelecimento_id`)
    REFERENCES `pi4semestre`.`estabelecimentos` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_avaliacoes_colaboradores1`
    FOREIGN KEY (`colaborador_id`)
    REFERENCES `pi4semestre`.`colaboradores` (`id`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_avaliacoes_itens1`
    FOREIGN KEY (`item_id`)
    REFERENCES `pi4semestre`.`itens` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `pi4semestre`.`categorias`
-- -----------------------------------------------------
START TRANSACTION;
USE `pi4semestre`;
INSERT INTO `pi4semestre`.`categorias` (`id`, `nome`) VALUES (1, 'Bar/Restaurante');
INSERT INTO `pi4semestre`.`categorias` (`id`, `nome`) VALUES (2, 'Cinema');
INSERT INTO `pi4semestre`.`categorias` (`id`, `nome`) VALUES (3, 'Parque');

COMMIT;


-- -----------------------------------------------------
-- Data for table `pi4semestre`.`itens`
-- -----------------------------------------------------
START TRANSACTION;
USE `pi4semestre`;
INSERT INTO `pi4semestre`.`itens` (`id`, `nome`) VALUES (1, 'Acesso para cadeirantes');
INSERT INTO `pi4semestre`.`itens` (`id`, `nome`) VALUES (2, 'Sanitários para cadeirantes');
INSERT INTO `pi4semestre`.`itens` (`id`, `nome`) VALUES (3, 'Instruções em braile para deficientes visuais');
INSERT INTO `pi4semestre`.`itens` (`id`, `nome`) VALUES (4, 'Sinalização de piso para deficientes visuais');

COMMIT;

-- -----------------------------------------------------
-- Data for table `pi4semestre`.`colaboradores`
-- -----------------------------------------------------
START TRANSACTION;
USE pi4semestre;
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (1,'saulsimonetti','saul.simonetti@gmail.com','saul','simonetti','saul22');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (2,'andyalvess','andreza.alves@gmail.com','andreza','alves','andy23');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (3,'leoribeiro','leonardo.ribeiro@gmail.com','leonardo','ribeiro','leo20');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (4,'raphafeldberg','raphael.feldberg@gmail.com','raphael','feldberg','sa890s');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (5,'densiqueira','dennis.siqueira@gmail.com','dennis','siqueira','op333a');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (6,'joaosilva','joao.silva@hotmail.com','joao','silva','se192a');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (7,'juliocesar','julio.cesar@gmail.com','julio','cesar','test19');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (8,'anaclara','ana.clara@hotmail.com','ana','clara','sen123');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (9,'lauraalves','laura.alves@hotmail.com','laura','alves','123sen');
INSERT INTO `pi4semestre`.`colaboradores` (`id`,`username`,`email`,`nome`,`sobrenome`,`senha`) VALUES (10,'mateusmoura','mateus.moura@gmail.com','mateus','moura','test90');

COMMIT;

-- -----------------------------------------------------
-- Data for table `pi4semestre`.`estabelecimentos`
-- -----------------------------------------------------
START TRANSACTION;
USE pi4semestre;
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (1,'Carmani restaurante','Av. Brigadeiro Faria Lima','1307','Jardim Paulistando','São Paulo','SP',1,'01452002');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (2,'Barão bar','Av. Brigadeiro Faria Lima','1306','Jardim Paulistando','São Paulo','SP',1,'01452002');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (3,'Parque Villa Lobos','Av. Prof. Fonseca Rodrigues','2001','Alto Pinheiros','São Paulo','SP',3,'05461210');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (4,'Cinemark','Av. Rebouças','3970','Jardins','São Paulo','SP',2,'05402600');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (5,'UCI Jardim Sul','Av. Giovanni Gronchi','5819','Vila Andrade','São Paulo','SP',2,'05724003');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (6,'D.O.M Restaurante','R. Barão de Capanema','549','Jardins','São Paulo','SP',1,'01411011');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (7,'Si Señor Restaurante','R. dos Pinheiros','661','Pinheiros','São Paulo','SP',1,'');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (8,'Bar Secreto','R. Álvaro Anes','97','Pinheiros','São Paulo','SP',1,'05421010');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (9,'Parque Ibirapuera','Av. Pedro Álvares Cabral','','Vila Mariana','São Paulo','SP',3,'04002010');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (10,'Cinemark Aricanduva','Avenida Aricanduva','5555','Jardim Santo Terezinha','São Paulo','SP',2,'03527900');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (11,'O Burguer','Av. Moaci','806','Moema','São Paulo','SP',1,'04083002');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (12,'Paulista Burguer','R. Augusta','1499','Consolação','São Paulo','SP',3,'01305100');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (13,'Cinemark Shopping Interlagos','Av. Interlagos','2255','Interlagos','São Paulo','SP',2,'04661200');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (14,'Parque Água Branca','Av. Francisco Matarazzo','455','Água Branca','São Paulo','SP',3,'01156000');
INSERT INTO `pi4semestre`.`estabelecimentos` (`id`,`nome`,`logradouro`,`numero`,`bairro`,`cidade`,`uf`,`categoria_id`,`cep`) 
VALUES (15,'Hamburgueria do Sujinho','R. Maceió','64','Consolação','São Paulo','SP',1,'01302010');

COMMIT;

-- -----------------------------------------------------
-- Data for table `pi4semestre`.`avaliacoes`
-- -----------------------------------------------------
 START TRANSACTION;
 USE pi4semestre;
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (1, 1, 1, 4, '2017.10.21', '4', 'Está bom!'); 
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (2, 1, 3, 3, '2017.09.19', '5', '');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (3, 2, 10, 2, '2017.05.22', '2', ' Acredito que poderiam melhorar um pouco, já frequentei um prédio pior onde o sanitário era mais adequado');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (4, 13, 2, 1, '2017.10.25', '1', ' ');  
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (5, 15, 4, 1, '2016.09.07', '2', 'O acesso não é dos melhores!');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (6, 7, 8, 2, '2015.07.04', '3', ' '); 
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (7, 15, 3, 1, '2016.09.08', '3', ' O acesso para cadeirantes poderia ser melhor'); 
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (8, 10, 6, 3, '2014.06.06', '5', ' Os cegos não terão problemas em se localizar');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (9, 3, 5, 4, '2017.10.25', '1', ' A sinalização do piso está inacabada'); 
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (10, 9, 9, 2, '2017.10.21', '5', ' O sanitário está em ótimas condições!');   
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (11, 9, 9, 2, '2017.10.22', '5', ' O sanitário está em ótimas condições!');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (12, 9, 9, 2, '2017.08.21', '5', ' O sanitário está em ótimas condições!');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (13, 3, 8, 2, '2017.02.19', '1', ' Sinceramente não vale a pena nem comentar...');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (14, 4, 8, 1, '2017.02.27', '4', 'O acesso está muito bom :D');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (15, 15, 3, 1, '2017.02.04', '3', 'Da última vez que vim aqui, percebo agora que ainda é a mesma coisa');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (16, 13, 10, 4, '2017.03.15', '5', 'Não poderia ser melhor =)');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (17, 3, 2, 1, '2016.07.05', '4', 'O acesso para cadeirantes está muito bom');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (18, 3, 2, 2, '2016.07.05', '3', 'Já o sanitário não é tão bom');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (19, 4, 1, 1, '2016.07.05', '1', 'Péssimo esse acesso para cadeirantes');
 INSERT INTO `pi4semestre`.`avaliacoes` (`id`,`estabelecimento_id`,`colaborador_id`,`item_id`,`dt_avaliacao`,`nota`,`comentario`) 
 VALUES (20, 3, 5, 1, '2016.07.05', '5', 'O acesso para cadeirantes é um dos melhores que já vi :D');
 
 COMMIT;
